<html>
  <head> 
    <title> Onmyoji Calculator </title>
    <base href = "https://salvist.github.io/OApp/" />
    <link rel="icon" type="image/png" href="seimei.png" />
    
    <script>

      
      function cal(){
        var atkBuff = 1.0
        <!--       none, bunny, kamai, oitsuki      -->
        var aBuff = [0.0, 0.2, 0.25, 0.2]
        if (document.getElementByName("buff").value = 1) atkBuff += aBuff[1]
        if (document.getElementByName("buff").value = 2) atkBuff += aBuff[2]
        if (document.getElementByName("oBuff").checked) atkBuff += aBuff[3]

        var dmgBuff = 1.0
        if (document.getElementByName("buff").value = 3) dmgBuff += 0.3 <!--star-->
        if (document.getElementByName("soul").value = 1) dmgBuff += 0.4 <!--shadow-->
        
        <!--        death, bind, ushi -->
        var debuff = [0.3, 0.4, 0.15]
        var dmgDebuff = 1.0
        if(document.getElementByName("death").checked) dmgDebuff += 0.3
        if(document.getElementByName("bind").checked) dmgDebuff += 0.4
        
        var skillMul = document.getElementByName("skillMultiplier").value
        
        let tAtk = document.getElementByName("atk").value * atkBuff + document.getElementByName("bAtk").value
        var dmg = tAtk * skillMul * (1 + dmgBuff) * (1 + dmgDebuff)
        document.getElemenyByName("totalDamage").value = dmg
      }
      
    </script>
  </head>
  
  <body>
    <table bgcolor = "00CCFF" width = "100%">
      <tr><th>
        <h1>Onmyoji Application</h1>
      </th></tr>
    </table>
    <hr />
    
    <!-- label on top -->
    <table>
      <tr>
        <td>Attack</td>
        <td>Bonus Attack</td>
        <td>Skill %</td>
        <td>Soul</td> 
        <td>Critial</td>
        <td>Critical<br />Damage</td>
        <td>Atk/Dmg Buff</td>
        <td>Oitsuki<br />Clear Moon</td>
        <td>Death</td>
        <td>Bind</td>
        <td>Total Damage</td>
        <td>Calculate!</td>
      </tr>
      
      <form name = "abc">
        <tr>
          
          <!-- Attack -->
          <td>
            <input type = "number" value = "0" name = "atk" />
          </td>
          
          <!-- Bonus Attack -->
           <td>
             <input type = "number" value = "0" name = "bAtk" />
          </td>
            
        
          <!-- Skill Percentage -->
          <td>
            <input type = "number" value = "0" name = "skillMultiplier" />
          </td>

          <!-- Soul -->
          <td>
            <select name = "soul">
              <option value = "0" selected> None </option>
              <option value = "1"> Shadow </option>
              <option value = "2"> Claws </option>
              <option value = "3"> Seductress </option>
            </select>
          </td>

          <!-- Critical -->
          <td>
            <input type = "checkbox" name = "crit" value = "on" />
          </td>

          <!-- Critical Damage -->
          <td>
            <input type = "number" value = "150" name = "cdmg" />
          </td>

          <!-- Atk/Dmg Buff -->
          <td>
            <select name = "buff">
              <option value = "0" selected> None </option>
              <option value = "1"> Bunny Dance  20% Atk </option>
              <option value = "2"> Brotherly Bond 25% Atk </option>
              <option value = "3"> Star  30% Dmg Inc. </option>
            </select>
          </td>

          <!-- Oitsuki Buff -->
          <td>
            <input type = "checkbox" name = "oBuff" />
          </td>

          <!-- Death -->
          <td>
              <input type = "checkbox" name = "death" />
          </td>

          <!-- Bind -->
          <td>
            <form>
              <input type = "checkbox" name = "bind" />
            </form>
          </td>

          <!-- Total Damage -->
          <td>
            <input type = "number" name = "totalDamage" value = "0" disabled />
          </td>

          <!-- Calculate! -->
          <td>
            <input type = "button" value = "calculate" onclick = "cal()"/>
          </td>
        </tr>
      </form>
    </table>
  </body>
  
</html>
